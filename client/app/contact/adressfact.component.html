
<div id="contact">

    <my-header *ngIf="!print" [title]='"Contacts"' [img]="'image/menu/contacts_grand_gris.png'"></my-header>


    <nav class="navbar navbar-default">
        <div class="container-fluid">

            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

            </div>
            <!--garder l'id du chantier en passant d'un onglet à l'autre possibilité peut-être d'un session ou d'un cookie qui disppait à la fermeture de la page-->

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li *ngIf="droitsuser.accescontact"><a [routerLink]="['/ficheclient' , id_contact]">Fiche client</a></li>
                    <li *ngIf="droitsuser.accescontact" role="presentation" ><a [routerLink]="['/devisclient' , id_contact]">Devis du client</a></li>
                    <li *ngIf="droitsuser.accescontact" role="presentation" ><a [routerLink]="['/factclient' , id_contact]">Factures du client</a></li>
                    <li *ngIf="droitsuser.accescontact" role="presentation" class="active"><a [routerLink]="['/adressfact' , id_contact]">Adresse de facturation</a></li>
                </ul>

            </div>
        </div>
    </nav>


    <div class=" container-fluid">
        <div *ngIf="!print" class=" col-sm-offset-10" style="margin-top: 5px; margin-bottom:5px; font-size: 16px;">
            <a  [routerLink]="['/home']" class="glyphicon glyphicon-plus-sign fleche1"></a><span class="blan1">Retour accueil</span>
        </div>

        <form method="POST" action="#">

            <h3>Adresse de facturation</h3>

            <div class="table-responsive">
                <table class="table">

                    <thead>

                        <tr>
                            <th class="col-sm-3">Adresse</th>
                            <th class="col-sm-3">Complément d'adresse</th>
                            <th class="col-sm-1">Code postale</th>
                            <th class="col-sm-2">Ville</th>
                            <th class="col-sm-2">Pays</th>
                            <th class="col-sm-1">Action</th>
                        </tr>

                    </thead>

                    <tbody>

                        <tr *ngFor="let fact of adrefact, let i =index">
                            <td><input type="text" name="adresse{{i}}"  class="col-sm-12" [(ngModel)]="adrefact[i].adresse"></td>
                            <td><input type="text" name="complement_adr{{i}}"  class="col-sm-12" [(ngModel)]="adrefact[i].complement_adr"></td>
                            <td><input type="text" name="code_postale{{i}}"  class="col-sm-12" [(ngModel)]="adrefact[i].code_postal"></td>
                            <td><input type="text" name="ville{{i}}" class="col-sm-12" [(ngModel)]="adrefact[i].ville"> </td>
                            <td><input type="text" name="pays{{i}}" class="col-sm-12" [(ngModel)]="adrefact[i].pays"></td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-btn">
                                        <button *ngIf="!print" type="button" class="btn btn-default dropdown-toggle input-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action <span class="caret"></span></button>
                                        <ul class="dropdown-menu dropdown-menu-right">
                                            <li *ngIf="droitsuser.modifcontact"><a >Modifier</a></li>
                                            <li *ngIf="droitsuser.supcontact" role="separator" class="divider"></li>
                                            <li *ngIf="droitsuser.supcontact"><a (click)="deleteFact(adrefact[i].id_adresse)">Supprimer</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>

                </table>
            </div>





        </form>

    <h5>Ajouter une adresse</h5>

        <form (ngSubmit)=" addAddress()">
            <div class="table-responsive">
                <table class="table">

                    <thead>

                    <tr>
                        <th class="col-sm-3"></th>
                        <th class="col-sm-3"></th>
                        <th class="col-sm-1"></th>
                        <th class="col-sm-2"></th>
                        <th class="col-sm-2"></th>
                        <th class="col-sm-1"></th>
                    </tr>

                    </thead>

                    <tbody>
                    <tr >
                        <td><input type="text" name="adresse" placeholder="Adresse" class="col-sm-12" [(ngModel)]="addresses.adresse"></td>
                        <td><input type="text" name="complement_adr" placeholder="Complément d'adresse" class="col-sm-12" [(ngModel)]="addresses.complement_adr"></td>
                        <td><input type="text" name="code_postale" placeholder="Code postale" class="col-sm-12" [(ngModel)]="addresses.code_postale"></td>
                        <td><input type="text" name="ville" placeholder="Ville" class="col-sm-12" [(ngModel)]="addresses.ville"> </td>
                        <td><input type="text" name="pays" placeholder="Pays" class="col-sm-12" [(ngModel)]="addresses.pays"></td>
                        <td><button class="col-sm-12" type="submit" [disabled]="loading">Ajouter</button></td>
                    </tr>

                    </tbody>

                </table>
            </div>
        </form>


    </div>
</div>